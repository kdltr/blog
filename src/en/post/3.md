((title . "Crepes-party-hard-yolo-swag 2015")
 (date . 1450781837)
 (abstract . "My first adventure at Scheme game making."))

Here it is! My very first game postmortem article!

In there, I will try to explain the making of Crepes-party-hard-yolo-swag 2015 (later abbreviated cphys2015),
from the first prototypes to the publication of the finished product.

You can check out the [project page][cphys2015] if you don’t yet know about the game.

I don’t see many detailed functional game articles around, so I hope this will help filling that need.

You can follow the text and try the game at different stages of development by checking out the git repository.
Relevant revisions will be annotated in the paragraphs.
Use *git checkout **revision*** to get the game at the desired state.

To run the game, just run this from the command line: `make cairo-utils.so && csi -s crepe.scm`

Use Ctrl-C in the terminal that launched the game to terminate it.

# A bit of context
## Company
### Internship
#### No very high-level concepts like FRP
## Publish a real polished game even if tiny

# Iterative development
## Ripped off the doodle egg’s vector graphics procedures
## Game&watch
## Falling blocks game v1.0~82

[<img class="fill" alt="prototype screenshot" src="/projects/cphys2015/prototype-screenshot1.png"/>]
(/projects/cphys2015/prototype-screenshot1.png)

## Bouncing behaviour v1.0~81
## Correct state transitioning v1.0~79
### death
### score
## Tweening v1.0~77
## Wiggle v1.0~74
## Fast ascend and various details v1.0~71
## Very first graphical assets v1.0~68
## Crepes animation v1.0~66
## Background image (black and white) v1.0~64
## Background image in color and crepes graphics update v1.0~59
[<img class="fill" alt="prototype screenshot" src="/projects/cphys2015/prototype-screenshot2.png"/>]
(/projects/cphys2015/prototype-screenshot2.png)

## Refactoring
I should have stored the arrival time instead,
it would have made things a little bit easier,
but it’s just a detail.

## Self-contained builds preparation, cairo removal
### Integrating assets in the binary
### No need to make cairo-utils.so now
## Static compilation support
## HUD v1.0~54
## Menu
### By intern in parallel branch
### menu branch to take a look
`csi resources.scm -e '(main-loop-menu #f)'`

## Character graphics v1.0~48
[<img class="fill" alt="prototype screenshot" src="/projects/cphys2015/prototype-screenshot3.png"/>]
(/projects/cphys2015/prototype-screenshot3.png)


## Various tweaks and bug fixes plus compiler optimizations
## Renderer API
### fork of chicken-sdl2
### vertical synchronization
## Work around chicken-sdl2 messy allocation
### bug report

Now fixed, see:
[https://gitlab.com/chicken-sdl2/chicken-sdl2/issues/30](https://gitlab.com/chicken-sdl2/chicken-sdl2/issues/30)

## Windows support
[<img class="fill" alt="prototype screenshot" src="/projects/cphys2015/prototype-screenshot3-windows.png"/>]
(/projects/cphys2015/prototype-screenshot3-windows.png)

## Resolution Independence
### Graphics now at 1920x1080, scaled up or down by GPU if needed
#### linear interpolation via SetHint
### automatic 16:9 ratio
## Score in menu, menu graphics update, credit screen v1.0~28
`csi crepe.scm -e '(menu-game-loop)'`

[<img class="fill" alt="prototype screenshot" src="/projects/cphys2015/prototype-screenshot4.png"/>]
(/projects/cphys2015/prototype-screenshot4.png)

## Character animation v1.0~25
### Nearly at final stage
## Polishing
### takes the longest time
### Randomness parameters
### key repeat
### score/difficulty computation
#### failure?
## sdl2-mixer and placeholder sounds v1.0~12
## More polishing
### Real sounds v1.0~7
### More points when almost failed
### tiny bugs
## Music v1.0
## Release
## MacOS X build
### I don’t have a cross compiler for it
### Hiro

[cphys2015]: ../project/cphys2015.xhtml
